<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.shape.Rectangle?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.myapp.HelloController"
            prefWidth="1280" prefHeight="900"
            stylesheets="@Style.CSS">

    <top>
        <HBox spacing="18" style="-fx-padding:14 32; -fx-alignment:center-left;">
            <Label text="CineSense" styleClass="nav-brand"/>
            <Region HBox.hgrow="ALWAYS"/>
            <HBox spacing="14">
                <Button text="Home" styleClass="nav-item" onAction="#onNavHome"/>
                <Button text="Mood Picks" styleClass="nav-item" onAction="#onNavMoodPicks"/>
                <Button text="Genres" styleClass="nav-item" onAction="#onNavGenres"/>
                <Button text="My List" styleClass="nav-item" onAction="#onNavMyList"/>
                <Button text="About" styleClass="nav-item" onAction="#onNavAbout"/>
            </HBox>
            <Region HBox.hgrow="ALWAYS"/>
            <StackPane styleClass="search-box">
                <TextField fx:id="topSearch" promptText="Search Movies..." styleClass="top-search" onAction="#onSearch"/>
            </StackPane>
        </HBox>
    </top>

    <center>
        <!-- OUTER scrollpane provides full-page vertical scrolling -->
        <ScrollPane fx:id="pageScroll" fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" pannable="false">
            <VBox fx:id="pageContent" spacing="0">

                <!-- HERO -->
                <StackPane fx:id="heroStack" prefHeight="420" style="-fx-alignment:center;">
                    <Pane styleClass="page-bg"/>
                    <ImageView fx:id="heroBg" preserveRatio="false"/>
                    <ImageView fx:id="filmGrain" mouseTransparent="true" preserveRatio="true"/>
                    <VBox spacing="24" style="-fx-alignment:center;">
                        <Label text="Find the Perfect Movie for Your Mood" styleClass="hero-heading"/>
                        <Label text="Personalized recommendations based on how you feel right now." styleClass="hero-sub"/>
                        <HBox spacing="12" style="-fx-alignment:center;">
                            <Button fx:id="moodHappy" styleClass="mood-chip" onAction="#onMoodHappy"/>
                            <Button fx:id="moodSad" styleClass="mood-chip" onAction="#onMoodSad"/>
                            <Button fx:id="moodBored" styleClass="mood-chip" onAction="#onMoodBored"/>
                            <Button fx:id="moodStressed" styleClass="mood-chip" onAction="#onMoodStressed"/>
                        </HBox>
                        <HBox spacing="12" style="-fx-alignment:center;">
                            <Button fx:id="getStarted" text="Get Started" styleClass="btn-primary" onAction="#onGetStarted"/>
                            <Button fx:id="browseMovies" text="Browse Movies" styleClass="btn-outline" onAction="#onBrowseMovies"/>
                        </HBox>
                    </VBox>
                </StackPane>

                <!-- MAIN CONTENT (stacked sections) -->
                <VBox spacing="24" style="-fx-padding:18 56 72 56; -fx-alignment:center-left;">

                    <!-- PERSONALIZED -->
                    <VBox spacing="8">
                        <Label fx:id="personalizedTitle" text="Recommended for you" styleClass="section-title"/>
                        <StackPane prefHeight="240">
                            <ScrollPane fx:id="personalizedScroll" pannable="true" hbarPolicy="NEVER" vbarPolicy="NEVER" prefHeight="200">
                                <HBox fx:id="personalizedRow" spacing="16" style="-fx-padding:12;"/>
                            </ScrollPane>
                            <Pane fx:id="personalizedIndicatorPane" mouseTransparent="true" StackPane.alignment="BOTTOM_CENTER">
                                <Rectangle fx:id="personalizedIndicator" height="6" arcWidth="6" arcHeight="6"/>
                            </Pane>
                        </StackPane>
                    </VBox>

                    <!-- TOP PICKS -->
                    <VBox spacing="8">
                        <Label text="Top Picks for You" styleClass="section-title"/>
                        <StackPane prefHeight="300">
                            <ScrollPane fx:id="topPicksScroll" pannable="true" hbarPolicy="NEVER" vbarPolicy="NEVER" prefHeight="260">
                                <HBox fx:id="topPicksRow" spacing="16" style="-fx-padding:12;"/>
                            </ScrollPane>
                            <Pane fx:id="indicatorPane" mouseTransparent="true" StackPane.alignment="BOTTOM_CENTER">
                                <Rectangle fx:id="rowIndicator" height="6" arcWidth="6" arcHeight="6"/>
                            </Pane>
                            <Button fx:id="topLeft" text="‹" styleClass="chev" StackPane.alignment="CENTER_LEFT"/>
                            <Button fx:id="topRight" text="›" styleClass="chev" StackPane.alignment="CENTER_RIGHT"/>
                        </StackPane>
                    </VBox>

                    <!-- GENRES (bottom of the page) -->
                    <VBox spacing="8">
                        <Label text="Browse by Genre" styleClass="section-title"/>
                        <HBox spacing="12">
                            <Button text="Action" styleClass="genre-chip" onAction="#onGenreAction"/>
                            <Button text="Comedy" styleClass="genre-chip" onAction="#onGenreAction"/>
                            <Button text="Drama" styleClass="genre-chip" onAction="#onGenreAction"/>
                            <Button text="Horror" styleClass="genre-chip" onAction="#onGenreAction"/>
                            <Button text="Sci-Fi" styleClass="genre-chip" onAction="#onGenreAction"/>
                            <Button text="Thriller" styleClass="genre-chip" onAction="#onGenreAction"/>
                        </HBox>
                    </VBox>

                </VBox>
            </VBox>
        </ScrollPane>
    </center>

    <bottom>
        <HBox alignment="CENTER" style="-fx-padding: 18 24;">
            <Label text="© 2025 CineSense — All Rights Reserved" styleClass="footer-text"/>
        </HBox>
    </bottom>
</BorderPane>